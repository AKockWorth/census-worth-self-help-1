#!/bin/bash

set -e

echo -e "Build configuration\n==================="

echo -e "\nGoogle Cloud Platform\n---------------------"
echo "PROJECT=${PROJECT}"
echo "SERVICE=${SERVICE}"
echo "GCP_SECRETS_VERSION=${GCP_SECRETS_VERSION}"

echo -e "\nMatomo\n------"
echo "ENABLE_MATOMO=${ENABLE_MATOMO}"
echo "MATOMO_IP=${MATOMO_IP}"
echo "MATOMO_URL=${MATOMO_URL}"
echo "MATOMO_SITE_ID=${MATOMO_SITE_ID}"

echo -e "\nSecurity\n--------"
echo "SP_PROTOCOL=${SP_PROTOCOL}"
echo "SP_PROTECTED=${SP_PROTECTED}"
echo "SP_DOMAIN_NAME=${SP_DOMAIN_NAME}"
echo "COOKIE_TIMEOUT=${COOKIE_TIMEOUT}"
echo "IDP_ENTRY_POINT=${IDP_ENTRY_POINT}"
echo "VALID_TOKEN_AGE=${VALID_TOKEN_AGE}"

echo -e "\nSite settings\n-------------"
echo "BACKEND_CONTENT_REPO=${BACKEND_CONTENT_REPO}"
echo "GATSBY_ASSETS_PATH=${GATSBY_ASSETS_PATH}"
echo "GATSBY_CHAT_DOMAIN=${GATSBY_CHAT_DOMAIN:+<set>}"
echo "GATSBY_CHAT_BUTTON_CONTAINER_ID=${GATSBY_CHAT_BUTTON_CONTAINER_ID:+<set>}"
echo "GATSBY_CHAT_CHANNEL=${GATSBY_CHAT_CHANNEL:+<set>}"
echo "GATSBY_CHAT_TENANT=${GATSBY_CHAT_TENANT:+<set>}"
echo "GATSBY_CHAT_UUID=${GATSBY_CHAT_UUID:+<set>}"
echo "GATSBY_SITE_BANNER_COLOUR=${GATSBY_SITE_BANNER_COLOUR}"
  
echo -e "\nBuild flags\n-----------"
echo "PATCH_NETLIFY=${PATCH_NETLIFY}"
echo "NETLIFY_BUCKET_NAME=${NETLIFY_BUCKET_NAME}"
echo "NETLIFY_PATCH_VERSION=${NETLIFY_PATCH_VERSION}"
echo "INJECT_DEPLOYMENT_INFORMATION=${INJECT_DEPLOYMENT_INFORMATION}"
echo "SKIP_UNIT_TESTS=${SKIP_UNIT_TESTS}"
echo "SKIP_AUDIT=${SKIP_AUDIT}"

echo -e "==================="
